% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/calibration_plot.R
\name{calibration_plot}
\alias{calibration_plot}
\title{Calibration Plot for Survival or Event Rate Predictions}
\usage{
calibration_plot(
  calbrationdata,
  time_points,
  xlim = c(0, 1),
  ylim = c(0, 1),
  xlab = "Predicted survival probability",
  ylab = "Observed survival probability",
  add_ideal = TRUE,
  pch = 19,
  col = "blue",
  inverse = FALSE,
  font_lab = 2,
  font_main = 2,
  font_axis = 1,
  cex_lab = 1,
  cex_main = 1.2,
  cex_axis = 1,
  cex_point = 1.2,
  line_lab = 2.6,
  line_main = 1,
  arrow_col = rgb(0, 0, 1, 0.4),
  arrow_lwd = 1.5,
  arrow_length = 0.05,
  ideal_col = "red",
  ideal_lwd = 2,
  ideal_lty = 2,
  main_title = ""
)
}
\arguments{
\item{calbrationdata}{A data frame containing calibration data. Must include
columns: `time_point`, `mean_predicted_survival`, `actual_survival`,
`lower_survival`, and `upper_survival`.}

\item{time_points}{Numeric value specifying the time point for which to
create the calibration plot.}

\item{xlim}{Numeric vector of length 2 specifying the x-axis limits.
Default is c(0, 1).}

\item{ylim}{Numeric vector of length 2 specifying the y-axis limits.
Default is c(0, 1).}

\item{xlab}{Character string for the x-axis label. If not specified and
`inverse = TRUE`, defaults to "Predicted survival rate".}

\item{ylab}{Character string for the y-axis label. If not specified and
`inverse = TRUE`, defaults to "Observed survival rate".}

\item{add_ideal}{Logical value indicating whether to add the ideal
calibration line (diagonal). Default is TRUE.}

\item{pch}{Point character type. Default is 19 (solid circle).}

\item{col}{Point color. Default is "blue".}

\item{inverse}{Logical value indicating whether to plot survival rates
(FALSE) or event rates (TRUE). Event rates are calculated as 1 - survival rate.
Default is FALSE.}

\item{font_lab}{Font style for axis labels (1=normal, 2=bold, 3=italic, 4=bold italic).
Default is 2 (bold).}

\item{font_main}{Font style for main title. Default is 2 (bold).}

\item{font_axis}{Font style for axis tick labels. Default is 1 (normal).}

\item{cex_lab}{Font size multiplier for axis labels. Default is 1.}

\item{cex_main}{Font size multiplier for main title. Default is 1.2.}

\item{cex_axis}{Font size multiplier for axis tick labels. Default is 1.}

\item{cex_point}{Point size multiplier. Default is 1.2.}

\item{line_lab}{Distance of axis labels from the plot. Default is 2.6.}

\item{line_main}{Distance of main title from the plot. Default is 1.}

\item{arrow_col}{Color for error bar arrows. Default is semi-transparent blue.}

\item{arrow_lwd}{Line width for arrows. Default is 1.5.}

\item{arrow_length}{Length of arrow heads. Default is 0.05.}

\item{ideal_col}{Color for ideal calibration line. Default is "red".}

\item{ideal_lwd}{Line width for ideal calibration line. Default is 2.}

\item{ideal_lty}{Line type for ideal calibration line. Default is 2 (dashed).}

\item{main_title}{Character string for the main title. Default is empty string.}
}
\value{
No return value. The function is called for its side effect of
  generating a calibration plot.
}
\description{
This function creates calibration plots for survival analysis models,
displaying the relationship between predicted and observed rates.
It can plot either survival rates or event rates (1 - survival rate)
with confidence intervals and an ideal calibration line.
}
\examples{
library(DynamicModel)
data(renal)
fit<-LMf(renal,tw=list(sl=seq(0, 10, by=0.1),w=5),cov=list(fixed=c("age", "weight", "sex"),vary=c("GFR","proteinuria")),id="id",rtime="yearse",time="time",status="status",inter=TRUE)
a1<-VS_LM(fit,cov=list(fixed=c("age", "weight", "sex"),vary=c("GFR","proteinuria")))
LM_pre<-predictive_LM(a1,method="K-fold",n=1,seed=1,K=5)
calibration_plot(LM_pre$all_cal_autual,5)
}
